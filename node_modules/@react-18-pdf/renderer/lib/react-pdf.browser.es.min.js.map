{"version":3,"file":"react-pdf.browser.es.min.js","sources":["../src/utils/propsEqual.js","../src/index.js","../src/renderer.js","../src/dom/usePDF.js","../src/dom/PDFViewer.js","../src/dom/BlobProvider.js","../src/dom/PDFDownloadLink.js","../src/dom/index.js"],"sourcesContent":["/* eslint-disable no-continue */\n\n/**\n * Checks if two sets of props are equal (recursively)\n *\n * @param {Object} props A\n * @param {Object} props B\n * @returns {Boolean} props equals?\n *\n */\nconst propsEqual = (a, b) => {\n  const oldPropsKeys = Object.keys(a);\n  const newPropsKeys = Object.keys(b);\n\n  if (oldPropsKeys.length !== newPropsKeys.length) {\n    return false;\n  }\n\n  for (let i = 0; i < oldPropsKeys.length; i += 1) {\n    const propName = oldPropsKeys[i];\n\n    if (propName === 'render' && !a[propName] !== !b[propName]) {\n      return false;\n    }\n\n    if (propName !== 'children' && a[propName] !== b[propName]) {\n      if (\n        typeof a[propName] === 'object' &&\n        typeof b[propName] === 'object' &&\n        propsEqual(a[propName], b[propName])\n      ) {\n        continue;\n      }\n\n      return false;\n    }\n\n    if (\n      propName === 'children' &&\n      (typeof a[propName] === 'string' || typeof b[propName] === 'string')\n    ) {\n      return a[propName] === b[propName];\n    }\n  }\n\n  return true;\n};\n\nexport default propsEqual;\n","import BlobStream from 'blob-stream';\nimport FontStore from '@react-18-pdf/font';\nimport renderPDF from '@react-18-pdf/render';\nimport PDFDocument from '@react-18-pdf/pdfkit';\nimport layoutDocument from '@react-18-pdf/layout';\n\nimport createRenderer from './renderer';\nimport { version } from '../package.json';\n\nconst fontStore = new FontStore();\n\n// We must keep a single renderer instance, otherwise React will complain\nlet renderer;\n\n// The pdf instance acts as an event emitter for DOM usage.\n// We only want to trigger an update when PDF content changes\nconst events = {};\n\nconst pdf = initialValue => {\n  const onChange = () => {\n    const listeners = events.change?.slice() || [];\n    for (let i = 0; i < listeners.length; i += 1) listeners[i]();\n  };\n\n  const container = { type: 'ROOT', document: null };\n  renderer = renderer || createRenderer({ onChange });\n  const mountNode = renderer.createContainer(container);\n\n  const updateContainer = doc => {\n    renderer.updateContainer(doc, mountNode, null);\n  };\n\n  if (initialValue) updateContainer(initialValue);\n\n  const render = async (compress = true) => {\n    const props = container.document.props || {};\n    const { pdfVersion, language, pageLayout, pageMode } = props;\n\n    const ctx = new PDFDocument({\n      compress,\n      pdfVersion,\n      lang: language,\n      displayTitle: true,\n      autoFirstPage: false,\n      pageLayout,\n      pageMode,\n    });\n\n    const layout = await layoutDocument(container.document, fontStore);\n\n    return renderPDF(ctx, layout);\n  };\n\n  const callOnRender = (params = {}) => {\n    if (container.document.props.onRender) {\n      container.document.props.onRender(params);\n    }\n  };\n\n  const toBlob = async () => {\n    const instance = await render();\n    const stream = instance.pipe(BlobStream());\n\n    return new Promise((resolve, reject) => {\n      stream.on('finish', () => {\n        try {\n          const blob = stream.toBlob('application/pdf');\n          callOnRender({ blob });\n          resolve(blob);\n        } catch (error) {\n          reject(error);\n        }\n      });\n\n      stream.on('error', reject);\n    });\n  };\n\n  const toBuffer = async () => {\n    callOnRender();\n    return render();\n  };\n\n  const toString = async () => {\n    let result = '';\n    const instance = await render(false); // For some reason, when rendering to string if compress=true the document is blank\n\n    return new Promise((resolve, reject) => {\n      try {\n        instance.on('data', buffer => {\n          result += buffer;\n        });\n\n        instance.on('end', () => {\n          callOnRender();\n          resolve(result);\n        });\n      } catch (error) {\n        reject(error);\n      }\n    });\n  };\n\n  const on = (event, listener) => {\n    if (!events[event]) events[event] = [];\n    events[event].push(listener);\n  };\n\n  const removeListener = (event, listener) => {\n    if (!events[event]) return;\n    const idx = events[event].indexOf(listener);\n    if (idx > -1) events[event].splice(idx, 1);\n  };\n\n  return {\n    on,\n    container,\n    toBlob,\n    toBuffer,\n    toString,\n    removeListener,\n    updateContainer,\n  };\n};\n\nconst Font = fontStore;\n\nconst StyleSheet = {\n  create: s => s,\n};\n\nexport { version, Font, StyleSheet, pdf, createRenderer };\n","/* eslint-disable no-unused-vars */\n/* eslint-disable no-param-reassign */\n\nimport ReactFiberReconciler from 'react-reconciler';\nimport {\n  unstable_scheduleCallback as schedulePassiveEffects,\n  unstable_cancelCallback as cancelPassiveEffects,\n} from 'scheduler';\n\nimport propsEqual from './utils/propsEqual';\n\nconst emptyObject = {};\n\nconst createRenderer = ({ onChange = () => {} }) => {\n  return ReactFiberReconciler({\n    schedulePassiveEffects,\n\n    cancelPassiveEffects,\n\n    supportsMutation: true,\n\n    isPrimaryRenderer: false,\n\n    warnsIfNotActing: false,\n\n    appendInitialChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n\n    createInstance(type, { style, children, ...props }) {\n      return {\n        type,\n        box: {},\n        style: style || {},\n        props: props || {},\n        children: [],\n      };\n    },\n\n    createTextInstance(text, rootContainerInstance) {\n      return { type: 'TEXT_INSTANCE', value: text };\n    },\n\n    finalizeInitialChildren(element, type, props) {\n      return false;\n    },\n\n    getPublicInstance(instance) {\n      return instance;\n    },\n\n    prepareForCommit() {\n      // Noop\n    },\n\n    clearContainer() {\n      // Noop\n    },\n\n    prepareUpdate(element, type, oldProps, newProps) {\n      return !propsEqual(oldProps, newProps);\n    },\n\n    resetAfterCommit: onChange,\n\n    resetTextContent(element) {\n      // Noop\n    },\n\n    getRootHostContext() {\n      return emptyObject;\n    },\n\n    getChildHostContext() {\n      return emptyObject;\n    },\n\n    shouldSetTextContent(type, props) {\n      return false;\n    },\n\n    now: Date.now,\n\n    useSyncScheduling: true,\n\n    appendChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n\n    appendChildToContainer(parentInstance, child) {\n      if (parentInstance.type === 'ROOT') {\n        parentInstance.document = child;\n      } else {\n        parentInstance.children.push(child);\n      }\n    },\n\n    insertBefore(parentInstance, child, beforeChild) {\n      const index = parentInstance.children?.indexOf(beforeChild);\n\n      if (index === undefined) return;\n\n      if (index !== -1 && child)\n        parentInstance.children.splice(index, 0, child);\n    },\n\n    removeChild(parentInstance, child) {\n      const index = parentInstance.children?.indexOf(child);\n\n      if (index === undefined) return;\n\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n\n    removeChildFromContainer(parentInstance, child) {\n      const index = parentInstance.children?.indexOf(child);\n\n      if (index === undefined) return;\n\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n\n    commitTextUpdate(textInstance, oldText, newText) {\n      textInstance.value = newText;\n    },\n\n    commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n      const { style, ...props } = newProps;\n      instance.props = props;\n      instance.style = style;\n    },\n  });\n};\n\nexport default createRenderer;\n","/* eslint-disable no-console */\n\nimport queue from 'queue';\nimport { useState, useRef, useEffect } from 'react';\n\nimport { pdf } from '../index';\n\nexport const usePDF = ({ document }) => {\n  const pdfInstance = useRef(null);\n\n  const [state, setState] = useState({\n    url: null,\n    blob: null,\n    error: null,\n    loading: false,\n  });\n\n  // Setup rendering queue\n  useEffect(() => {\n    const renderQueue = queue({ autostart: true, concurrency: 1 });\n\n    const queueDocumentRender = () => {\n      setState(prev => ({ ...prev, loading: true }));\n\n      renderQueue.splice(0, renderQueue.length, () =>\n        state.error ? Promise.resolve() : pdfInstance.current.toBlob(),\n      );\n    };\n\n    const onRenderFailed = error => {\n      console.error(error);\n      setState(prev => ({ ...prev, error }));\n    };\n\n    const onRenderSuccessful = blob => {\n      setState({\n        blob,\n        error: null,\n        loading: false,\n        url: URL.createObjectURL(blob),\n      });\n    };\n\n    pdfInstance.current = pdf();\n    pdfInstance.current.on('change', queueDocumentRender);\n    pdfInstance.current.updateContainer(document);\n\n    renderQueue.on('error', onRenderFailed);\n    renderQueue.on('success', onRenderSuccessful);\n\n    return () => {\n      renderQueue.end();\n      pdfInstance.current.removeListener('change', queueDocumentRender);\n    };\n  }, []);\n\n  // Revoke old unused url instances\n  useEffect(() => {\n    return () => {\n      if (state.url) {\n        URL.revokeObjectURL(state.url);\n      }\n    };\n  }, [state.url]);\n\n  const update = () => {\n    pdfInstance.current.updateContainer(document);\n  };\n\n  return [state, update];\n};\n\nexport default usePDF;\n","/* eslint-disable no-console */\n/* eslint-disable react/jsx-props-no-spreading */\n\nimport React, { useEffect } from 'react';\n\nimport usePDF from './usePDF';\n\nexport const PDFViewer = ({\n  title,\n  style,\n  className,\n  children,\n  innerRef,\n  showToolbar = true,\n  ...props\n}) => {\n  const [instance, updateInstance] = usePDF({ document: children });\n\n  useEffect(updateInstance, [children]);\n\n  const src = instance.url\n    ? `${instance.url}#toolbar=${showToolbar ? 1 : 0}`\n    : null;\n\n  return (\n    <iframe\n      src={src}\n      title={title}\n      ref={innerRef}\n      style={style}\n      className={className}\n      {...props}\n    />\n  );\n};\n\nexport default PDFViewer;\n","/* eslint-disable no-console */\n\nimport { useEffect } from 'react';\n\nimport usePDF from './usePDF';\n\nexport const BlobProvider = ({ document: doc, children }) => {\n  const [instance, updateInstance] = usePDF({ document: doc });\n\n  useEffect(updateInstance, [doc]);\n\n  if (!doc) {\n    console.warn('You should pass a valid document to BlobProvider');\n    return null;\n  }\n\n  return children(instance);\n};\n\nexport default BlobProvider;\n","/* eslint-disable no-console */\n\nimport React, { useEffect } from 'react';\n\nimport usePDF from './usePDF';\n\nexport const PDFDownloadLink = ({\n  style,\n  children,\n  className,\n  document: doc,\n  fileName = 'document.pdf',\n}) => {\n  const [instance, updateInstance] = usePDF({ document: doc });\n\n  useEffect(updateInstance, [children]);\n\n  if (!doc) {\n    console.warn('You should pass a valid document to PDFDownloadLink');\n    return null;\n  }\n\n  const handleDownloadIE = () => {\n    if (window.navigator.msSaveBlob) {\n      // IE\n      window.navigator.msSaveBlob(instance.blob, fileName);\n    }\n  };\n\n  return (\n    <a\n      style={style}\n      href={instance.url}\n      download={fileName}\n      className={className}\n      onClick={handleDownloadIE}\n    >\n      {typeof children === 'function' ? children(instance) : children}\n    </a>\n  );\n};\n\nexport default PDFDownloadLink;\n","import * as primitives from '@react-18-pdf/primitives';\n\nimport usePDF from './usePDF';\nimport PDFViewer from './PDFViewer';\nimport BlobProvider from './BlobProvider';\nimport PDFDownloadLink from './PDFDownloadLink';\nimport { pdf, version, Font, StyleSheet } from '../index';\n\nconst throwEnvironmentError = name => {\n  throw new Error(\n    `${name} is a Node specific API. You're either using this method in a browser, or your bundler is not loading react-pdf from the appropriate web build.`,\n  );\n};\n\nexport const renderToStream = () => {\n  throwEnvironmentError('renderToStream');\n};\n\nexport const renderToString = () => {\n  throwEnvironmentError('renderToString');\n};\n\nexport const renderToFile = () => {\n  throwEnvironmentError('renderToFile');\n};\n\nexport const render = () => {\n  throwEnvironmentError('render');\n};\n\nexport * from '../index';\n\nexport * from './usePDF';\n\nexport * from './PDFViewer';\n\nexport * from './BlobProvider';\n\nexport * from './PDFDownloadLink';\n\nexport * from '@react-18-pdf/primitives';\n\nexport default {\n  pdf,\n  usePDF,\n  Font,\n  version,\n  StyleSheet,\n  PDFViewer,\n  BlobProvider,\n  PDFDownloadLink,\n  renderToStream,\n  renderToString,\n  renderToFile,\n  render,\n  ...primitives,\n};\n"],"names":["renderer","propsEqual","a","b","oldPropsKeys","Object","keys","newPropsKeys","length","i","propName","emptyObject","createRenderer","_ref","_ref$onChange","onChange","ReactFiberReconciler","schedulePassiveEffects","cancelPassiveEffects","supportsMutation","isPrimaryRenderer","warnsIfNotActing","appendInitialChild","parentInstance","child","children","push","createInstance","type","_ref2","style","box","props","_objectWithoutPropertiesLoose","_excluded","createTextInstance","text","rootContainerInstance","value","finalizeInitialChildren","element","getPublicInstance","instance","prepareForCommit","clearContainer","prepareUpdate","oldProps","newProps","resetAfterCommit","resetTextContent","getRootHostContext","getChildHostContext","shouldSetTextContent","now","Date","useSyncScheduling","appendChild","appendChildToContainer","document","insertBefore","beforeChild","_parentInstance$child","index","indexOf","undefined","splice","removeChild","_parentInstance$child2","removeChildFromContainer","_parentInstance$child3","commitTextUpdate","textInstance","oldText","newText","commitUpdate","updatePayload","_excluded2","fontStore","FontStore","events","pdf","initialValue","container","mountNode","_events$change","listeners","change","slice","createContainer","updateContainer","doc","render","_asyncToGenerator","_regeneratorRuntime","mark","compress","pdfVersion","language","pageLayout","pageMode","ctx","layout","wrap","_context","prev","next","PDFDocument","lang","displayTitle","autoFirstPage","layoutDocument","sent","abrupt","renderPDF","stop","_callee","_x","apply","this","arguments","callOnRender","params","onRender","toBlob","_callee2","stream","_context2","pipe","BlobStream","Promise","resolve","reject","on","blob","error","toBuffer","_ref3","_callee3","_context3","toString","_ref4","_callee4","result","_context4","buffer","event","listener","removeListener","idx","Font","StyleSheet","create","s","usePDF","pdfInstance","useRef","_useState","useState","url","loading","state","setState","useEffect","renderQueue","queue","autostart","concurrency","queueDocumentRender","_extends","current","console","URL","createObjectURL","end","revokeObjectURL","PDFViewer","title","className","innerRef","_ref$showToolbar","showToolbar","_usePDF","updateInstance","src","React","createElement","ref","BlobProvider","warn","PDFDownloadLink","_ref$fileName","fileName","href","download","onClick","window","navigator","msSaveBlob","throwEnvironmentError","name","Error","renderToStream","renderToString","renderToFile","version","primitives"],"mappings":"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"}