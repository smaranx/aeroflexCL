{"version":3,"file":"react-pdf.browser.es.js","sources":["../src/utils/propsEqual.js","../src/renderer.js","../src/index.js","../src/dom/usePDF.js","../src/dom/PDFViewer.js","../src/dom/BlobProvider.js","../src/dom/PDFDownloadLink.js","../src/dom/index.js"],"sourcesContent":["/* eslint-disable no-continue */\n\n/**\n * Checks if two sets of props are equal (recursively)\n *\n * @param {Object} props A\n * @param {Object} props B\n * @returns {Boolean} props equals?\n *\n */\nconst propsEqual = (a, b) => {\n  const oldPropsKeys = Object.keys(a);\n  const newPropsKeys = Object.keys(b);\n\n  if (oldPropsKeys.length !== newPropsKeys.length) {\n    return false;\n  }\n\n  for (let i = 0; i < oldPropsKeys.length; i += 1) {\n    const propName = oldPropsKeys[i];\n\n    if (propName === 'render' && !a[propName] !== !b[propName]) {\n      return false;\n    }\n\n    if (propName !== 'children' && a[propName] !== b[propName]) {\n      if (\n        typeof a[propName] === 'object' &&\n        typeof b[propName] === 'object' &&\n        propsEqual(a[propName], b[propName])\n      ) {\n        continue;\n      }\n\n      return false;\n    }\n\n    if (\n      propName === 'children' &&\n      (typeof a[propName] === 'string' || typeof b[propName] === 'string')\n    ) {\n      return a[propName] === b[propName];\n    }\n  }\n\n  return true;\n};\n\nexport default propsEqual;\n","/* eslint-disable no-unused-vars */\n/* eslint-disable no-param-reassign */\n\nimport ReactFiberReconciler from 'react-reconciler';\nimport {\n  unstable_scheduleCallback as schedulePassiveEffects,\n  unstable_cancelCallback as cancelPassiveEffects,\n} from 'scheduler';\n\nimport propsEqual from './utils/propsEqual';\n\nconst emptyObject = {};\n\nconst createRenderer = ({ onChange = () => {} }) => {\n  return ReactFiberReconciler({\n    schedulePassiveEffects,\n\n    cancelPassiveEffects,\n\n    supportsMutation: true,\n\n    isPrimaryRenderer: false,\n\n    warnsIfNotActing: false,\n\n    appendInitialChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n\n    createInstance(type, { style, children, ...props }) {\n      return {\n        type,\n        box: {},\n        style: style || {},\n        props: props || {},\n        children: [],\n      };\n    },\n\n    createTextInstance(text, rootContainerInstance) {\n      return { type: 'TEXT_INSTANCE', value: text };\n    },\n\n    finalizeInitialChildren(element, type, props) {\n      return false;\n    },\n\n    getPublicInstance(instance) {\n      return instance;\n    },\n\n    prepareForCommit() {\n      // Noop\n    },\n\n    clearContainer() {\n      // Noop\n    },\n\n    prepareUpdate(element, type, oldProps, newProps) {\n      return !propsEqual(oldProps, newProps);\n    },\n\n    resetAfterCommit: onChange,\n\n    resetTextContent(element) {\n      // Noop\n    },\n\n    getRootHostContext() {\n      return emptyObject;\n    },\n\n    getChildHostContext() {\n      return emptyObject;\n    },\n\n    shouldSetTextContent(type, props) {\n      return false;\n    },\n\n    now: Date.now,\n\n    useSyncScheduling: true,\n\n    appendChild(parentInstance, child) {\n      parentInstance.children.push(child);\n    },\n\n    appendChildToContainer(parentInstance, child) {\n      if (parentInstance.type === 'ROOT') {\n        parentInstance.document = child;\n      } else {\n        parentInstance.children.push(child);\n      }\n    },\n\n    insertBefore(parentInstance, child, beforeChild) {\n      const index = parentInstance.children?.indexOf(beforeChild);\n\n      if (index === undefined) return;\n\n      if (index !== -1 && child)\n        parentInstance.children.splice(index, 0, child);\n    },\n\n    removeChild(parentInstance, child) {\n      const index = parentInstance.children?.indexOf(child);\n\n      if (index === undefined) return;\n\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n\n    removeChildFromContainer(parentInstance, child) {\n      const index = parentInstance.children?.indexOf(child);\n\n      if (index === undefined) return;\n\n      if (index !== -1) parentInstance.children.splice(index, 1);\n    },\n\n    commitTextUpdate(textInstance, oldText, newText) {\n      textInstance.value = newText;\n    },\n\n    commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n      const { style, ...props } = newProps;\n      instance.props = props;\n      instance.style = style;\n    },\n  });\n};\n\nexport default createRenderer;\n","import BlobStream from 'blob-stream';\nimport FontStore from '@react-18-pdf/font';\nimport renderPDF from '@react-18-pdf/render';\nimport PDFDocument from '@react-18-pdf/pdfkit';\nimport layoutDocument from '@react-18-pdf/layout';\n\nimport createRenderer from './renderer';\nimport { version } from '../package.json';\n\nconst fontStore = new FontStore();\n\n// We must keep a single renderer instance, otherwise React will complain\nlet renderer;\n\n// The pdf instance acts as an event emitter for DOM usage.\n// We only want to trigger an update when PDF content changes\nconst events = {};\n\nconst pdf = initialValue => {\n  const onChange = () => {\n    const listeners = events.change?.slice() || [];\n    for (let i = 0; i < listeners.length; i += 1) listeners[i]();\n  };\n\n  const container = { type: 'ROOT', document: null };\n  renderer = renderer || createRenderer({ onChange });\n  const mountNode = renderer.createContainer(container);\n\n  const updateContainer = doc => {\n    renderer.updateContainer(doc, mountNode, null);\n  };\n\n  if (initialValue) updateContainer(initialValue);\n\n  const render = async (compress = true) => {\n    const props = container.document.props || {};\n    const { pdfVersion, language, pageLayout, pageMode } = props;\n\n    const ctx = new PDFDocument({\n      compress,\n      pdfVersion,\n      lang: language,\n      displayTitle: true,\n      autoFirstPage: false,\n      pageLayout,\n      pageMode,\n    });\n\n    const layout = await layoutDocument(container.document, fontStore);\n\n    return renderPDF(ctx, layout);\n  };\n\n  const callOnRender = (params = {}) => {\n    if (container.document.props.onRender) {\n      container.document.props.onRender(params);\n    }\n  };\n\n  const toBlob = async () => {\n    const instance = await render();\n    const stream = instance.pipe(BlobStream());\n\n    return new Promise((resolve, reject) => {\n      stream.on('finish', () => {\n        try {\n          const blob = stream.toBlob('application/pdf');\n          callOnRender({ blob });\n          resolve(blob);\n        } catch (error) {\n          reject(error);\n        }\n      });\n\n      stream.on('error', reject);\n    });\n  };\n\n  const toBuffer = async () => {\n    callOnRender();\n    return render();\n  };\n\n  const toString = async () => {\n    let result = '';\n    const instance = await render(false); // For some reason, when rendering to string if compress=true the document is blank\n\n    return new Promise((resolve, reject) => {\n      try {\n        instance.on('data', buffer => {\n          result += buffer;\n        });\n\n        instance.on('end', () => {\n          callOnRender();\n          resolve(result);\n        });\n      } catch (error) {\n        reject(error);\n      }\n    });\n  };\n\n  const on = (event, listener) => {\n    if (!events[event]) events[event] = [];\n    events[event].push(listener);\n  };\n\n  const removeListener = (event, listener) => {\n    if (!events[event]) return;\n    const idx = events[event].indexOf(listener);\n    if (idx > -1) events[event].splice(idx, 1);\n  };\n\n  return {\n    on,\n    container,\n    toBlob,\n    toBuffer,\n    toString,\n    removeListener,\n    updateContainer,\n  };\n};\n\nconst Font = fontStore;\n\nconst StyleSheet = {\n  create: s => s,\n};\n\nexport { version, Font, StyleSheet, pdf, createRenderer };\n","/* eslint-disable no-console */\n\nimport queue from 'queue';\nimport { useState, useRef, useEffect } from 'react';\n\nimport { pdf } from '../index';\n\nexport const usePDF = ({ document }) => {\n  const pdfInstance = useRef(null);\n\n  const [state, setState] = useState({\n    url: null,\n    blob: null,\n    error: null,\n    loading: false,\n  });\n\n  // Setup rendering queue\n  useEffect(() => {\n    const renderQueue = queue({ autostart: true, concurrency: 1 });\n\n    const queueDocumentRender = () => {\n      setState(prev => ({ ...prev, loading: true }));\n\n      renderQueue.splice(0, renderQueue.length, () =>\n        state.error ? Promise.resolve() : pdfInstance.current.toBlob(),\n      );\n    };\n\n    const onRenderFailed = error => {\n      console.error(error);\n      setState(prev => ({ ...prev, error }));\n    };\n\n    const onRenderSuccessful = blob => {\n      setState({\n        blob,\n        error: null,\n        loading: false,\n        url: URL.createObjectURL(blob),\n      });\n    };\n\n    pdfInstance.current = pdf();\n    pdfInstance.current.on('change', queueDocumentRender);\n    pdfInstance.current.updateContainer(document);\n\n    renderQueue.on('error', onRenderFailed);\n    renderQueue.on('success', onRenderSuccessful);\n\n    return () => {\n      renderQueue.end();\n      pdfInstance.current.removeListener('change', queueDocumentRender);\n    };\n  }, []);\n\n  // Revoke old unused url instances\n  useEffect(() => {\n    return () => {\n      if (state.url) {\n        URL.revokeObjectURL(state.url);\n      }\n    };\n  }, [state.url]);\n\n  const update = () => {\n    pdfInstance.current.updateContainer(document);\n  };\n\n  return [state, update];\n};\n\nexport default usePDF;\n","/* eslint-disable no-console */\n/* eslint-disable react/jsx-props-no-spreading */\n\nimport React, { useEffect } from 'react';\n\nimport usePDF from './usePDF';\n\nexport const PDFViewer = ({\n  title,\n  style,\n  className,\n  children,\n  innerRef,\n  showToolbar = true,\n  ...props\n}) => {\n  const [instance, updateInstance] = usePDF({ document: children });\n\n  useEffect(updateInstance, [children]);\n\n  const src = instance.url\n    ? `${instance.url}#toolbar=${showToolbar ? 1 : 0}`\n    : null;\n\n  return (\n    <iframe\n      src={src}\n      title={title}\n      ref={innerRef}\n      style={style}\n      className={className}\n      {...props}\n    />\n  );\n};\n\nexport default PDFViewer;\n","/* eslint-disable no-console */\n\nimport { useEffect } from 'react';\n\nimport usePDF from './usePDF';\n\nexport const BlobProvider = ({ document: doc, children }) => {\n  const [instance, updateInstance] = usePDF({ document: doc });\n\n  useEffect(updateInstance, [doc]);\n\n  if (!doc) {\n    console.warn('You should pass a valid document to BlobProvider');\n    return null;\n  }\n\n  return children(instance);\n};\n\nexport default BlobProvider;\n","/* eslint-disable no-console */\n\nimport React, { useEffect } from 'react';\n\nimport usePDF from './usePDF';\n\nexport const PDFDownloadLink = ({\n  style,\n  children,\n  className,\n  document: doc,\n  fileName = 'document.pdf',\n}) => {\n  const [instance, updateInstance] = usePDF({ document: doc });\n\n  useEffect(updateInstance, [children]);\n\n  if (!doc) {\n    console.warn('You should pass a valid document to PDFDownloadLink');\n    return null;\n  }\n\n  const handleDownloadIE = () => {\n    if (window.navigator.msSaveBlob) {\n      // IE\n      window.navigator.msSaveBlob(instance.blob, fileName);\n    }\n  };\n\n  return (\n    <a\n      style={style}\n      href={instance.url}\n      download={fileName}\n      className={className}\n      onClick={handleDownloadIE}\n    >\n      {typeof children === 'function' ? children(instance) : children}\n    </a>\n  );\n};\n\nexport default PDFDownloadLink;\n","import * as primitives from '@react-18-pdf/primitives';\n\nimport usePDF from './usePDF';\nimport PDFViewer from './PDFViewer';\nimport BlobProvider from './BlobProvider';\nimport PDFDownloadLink from './PDFDownloadLink';\nimport { pdf, version, Font, StyleSheet } from '../index';\n\nconst throwEnvironmentError = name => {\n  throw new Error(\n    `${name} is a Node specific API. You're either using this method in a browser, or your bundler is not loading react-pdf from the appropriate web build.`,\n  );\n};\n\nexport const renderToStream = () => {\n  throwEnvironmentError('renderToStream');\n};\n\nexport const renderToString = () => {\n  throwEnvironmentError('renderToString');\n};\n\nexport const renderToFile = () => {\n  throwEnvironmentError('renderToFile');\n};\n\nexport const render = () => {\n  throwEnvironmentError('render');\n};\n\nexport * from '../index';\n\nexport * from './usePDF';\n\nexport * from './PDFViewer';\n\nexport * from './BlobProvider';\n\nexport * from './PDFDownloadLink';\n\nexport * from '@react-18-pdf/primitives';\n\nexport default {\n  pdf,\n  usePDF,\n  Font,\n  version,\n  StyleSheet,\n  PDFViewer,\n  BlobProvider,\n  PDFDownloadLink,\n  renderToStream,\n  renderToString,\n  renderToFile,\n  render,\n  ...primitives,\n};\n"],"names":["propsEqual","a","b","oldPropsKeys","Object","keys","newPropsKeys","length","i","propName","emptyObject","createRenderer","onChange","ReactFiberReconciler","schedulePassiveEffects","cancelPassiveEffects","supportsMutation","isPrimaryRenderer","warnsIfNotActing","appendInitialChild","parentInstance","child","children","push","createInstance","type","style","props","_excluded","box","createTextInstance","text","rootContainerInstance","value","finalizeInitialChildren","element","getPublicInstance","instance","prepareForCommit","clearContainer","prepareUpdate","oldProps","newProps","resetAfterCommit","resetTextContent","getRootHostContext","getChildHostContext","shouldSetTextContent","now","Date","useSyncScheduling","appendChild","appendChildToContainer","document","insertBefore","beforeChild","index","indexOf","undefined","splice","removeChild","removeChildFromContainer","commitTextUpdate","textInstance","oldText","newText","commitUpdate","updatePayload","fontStore","FontStore","renderer","events","pdf","initialValue","listeners","change","slice","container","mountNode","createContainer","updateContainer","doc","render","compress","pdfVersion","language","pageLayout","pageMode","ctx","PDFDocument","lang","displayTitle","autoFirstPage","layoutDocument","layout","renderPDF","callOnRender","params","onRender","toBlob","stream","pipe","BlobStream","Promise","resolve","reject","on","blob","error","toBuffer","toString","result","buffer","event","listener","removeListener","idx","Font","StyleSheet","create","s","usePDF","pdfInstance","useRef","useState","url","loading","state","setState","useEffect","renderQueue","queue","autostart","concurrency","queueDocumentRender","prev","current","onRenderFailed","console","onRenderSuccessful","URL","createObjectURL","end","revokeObjectURL","update","PDFViewer","title","className","innerRef","showToolbar","updateInstance","src","BlobProvider","warn","PDFDownloadLink","fileName","handleDownloadIE","window","navigator","msSaveBlob","throwEnvironmentError","name","Error","renderToStream","renderToString","renderToFile","version","primitives"],"mappings":"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"}